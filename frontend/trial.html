<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë¬´ë£Œ ì²´í—˜ ì‹ ì²­ â€“ ë‚´ ë¡œë˜ AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard-dynamic-subset.css" />
  <style>
    :root {
      --bg: #ffffff;
      --bg-soft: #fff5f8;
      --primary: #ff4f8b;
      --primary-soft: #fff0f5;
      --text-main: #222222;
      --text-sub: #666666;
      --border-soft: rgba(0,0,0,0.05);
    }
    *{box-sizing:border-box;}
    body{
      margin:0;
      font-family:'Pretendard',-apple-system,BlinkMacSystemFont,system-ui,sans-serif;
      background:radial-gradient(circle at top left,#fff5fb 0%,#ffffff 45%);
      color:var(--text-main);
      -webkit-font-smoothing:antialiased;
    }
    a{text-decoration:none;color:inherit;}

    .header{
      max-width:960px;margin:0 auto;padding:16px 20px 10px;
      display:flex;justify-content:space-between;align-items:center;
    }
    .logo{display:flex;align-items:center;gap:8px;cursor:pointer;}
    .logo-mark{
      width:26px;height:26px;border-radius:10px;
      background:linear-gradient(135deg,#ff4f8b,#ff9bb9);
      color:#fff;font-size:13px;font-weight:700;
      display:flex;align-items:center;justify-content:center;
    }
    .logo-text-main{font-weight:700;font-size:18px;}
    .logo-text-sub{font-size:11px;color:var(--text-sub);}
    .nav{display:flex;gap:14px;align-items:center;font-size:13px;color:#555;}
    .nav-link:hover{color:var(--primary);}

    .signup{
      max-width:720px;margin:0 auto 60px;padding:0 20px 40px;
    }
    .signup-box{
      background:var(--bg-soft);
      border-radius:24px;
      box-shadow:0 18px 40px rgba(0,0,0,0.06);
      padding:22px 22px 18px;
      border:1px solid var(--border-soft);
    }
    .signup-title{font-size:22px;font-weight:700;margin-bottom:6px;}
    .signup-sub{font-size:13px;color:var(--text-sub);margin-bottom:14px;}
    .signup-form{display:flex;flex-direction:column;gap:10px;}
    .signup-form label{font-size:12px;color:#555;display:flex;flex-direction:column;gap:6px;}
    .signup-form input,.signup-form select{
      border:1px solid rgba(0,0,0,0.08);
      border-radius:12px;
      padding:10px 12px;
      font-size:13px;
      background:#fff;
    }
    .signup-form .checkbox{flex-direction:row;align-items:center;gap:8px;font-size:12px;color:#666;}
    .signup-form .checkbox input{margin:0;}
    .btn-primary{
      border:none;border-radius:999px;
      background:var(--primary);color:#fff;
      padding:10px 18px;font-size:14px;
      font-weight:600;cursor:pointer;
      display:inline-flex;align-items:center;gap:6px;
      box-shadow:0 10px 25px rgba(255,79,139,0.35);
      justify-content:center;
    }
    .form-result{font-size:12px;color:#ff296f;margin-top:6px;line-height:1.5;}
    .footer{border-top:1px solid rgba(0,0,0,0.04);padding:16px 20px 24px;font-size:11px;color:#999;text-align:center;}
  </style>
</head>
<body>
  <header class="header">
    <div class="logo" id="logo-home">
      <div class="logo-mark">AI</div>
      <div>
        <div class="logo-text-main">ë‚´ ë¡œë˜ AI</div>
        <div class="logo-text-sub">ë§¤ì£¼ ì—…ë°ì´íŠ¸ë˜ëŠ” ë°ì´í„° ê¸°ë°˜ ë¡œë˜ ë²ˆí˜¸</div>
      </div>
    </div>
    <nav class="nav">
      <a class="nav-link" href="index.html">ë©”ì¸ìœ¼ë¡œ</a>
      <a class="nav-link" href="login.html">ë‚´ ì¡°í•© ë³´ê¸°</a>
      <a class="nav-link" href="signup.html">íšŒì›ê°€ì…</a>
    </nav>
  </header>

  <section class="signup" id="signup-form">
    <div class="signup-box">
      <div class="signup-title">ë¬´ë£Œ ì²´í—˜ ì‹ ì²­</div>
      <div class="signup-sub">ë°›ê³  ì‹¶ì€ ì¡°í•© ê°œìˆ˜ë§Œ ì„ íƒí•˜ë©´ ë°”ë¡œ ì‹œì‘ë©ë‹ˆë‹¤.</div>
      <form class="signup-form" id="lotto-form">
        <label>
          ì´ë¦„
          <input type="text" name="name" placeholder="ì´ë¦„" required />
        </label>
        <label>
          íœ´ëŒ€í° ë²ˆí˜¸
          <input type="tel" name="phone" placeholder="01012345678" required />
        </label>
        <label>
          ë°›ëŠ” ì¡°í•© ê°œìˆ˜
          <select name="combo_count" required>
            <option value="5">5ì¤„</option>
            <option value="10">10ì¤„</option>
            <option value="20" selected>20ì¤„</option>
          </select>
        </label>
        <label class="checkbox">
          <input type="checkbox" name="consent_terms" required />
          ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë° ì´ìš©ì— ë™ì˜í•©ë‹ˆë‹¤(í•„ìˆ˜)
        </label>
        <label class="checkbox">
          <input type="checkbox" name="consent_marketing" />
          ê´‘ê³ /ë§ˆì¼€íŒ… ìˆ˜ì‹ ì— ë™ì˜í•©ë‹ˆë‹¤(ì„ íƒ)
        </label>
        <button class="btn-primary" type="submit">ğŸ“© AI ì¶”ì²œ ë²ˆí˜¸ ë¬´ë£Œë¡œ ë°›ì•„ë³´ê¸°</button>
        <div class="form-result" id="form-result"></div>
      </form>
    </div>
  </section>

  <footer class="footer">
    ë³¸ ì„œë¹„ìŠ¤ëŠ” í†µê³„Â·íŒ¨í„´ ë¶„ì„ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì •ë³´ ì œê³µ ì„œë¹„ìŠ¤ì´ë©°, íŠ¹ì • íšŒì°¨ì˜ ë‹¹ì²¨ì„ ë³´ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
  </footer>

  <script>
    document.getElementById('logo-home').addEventListener('click', function () {
      window.location.href = 'index.html';
    });

    var form = document.getElementById('lotto-form');
    if (form) {
      form.addEventListener('submit', function (event) {
        event.preventDefault();
        var result = document.getElementById('form-result');
        var submitBtn = form.querySelector('button[type="submit"]');
        if (submitBtn) submitBtn.disabled = true;
        if (result) result.textContent = 'ì‹ ì²­ì„ ì²˜ë¦¬ ì¤‘ì…ë‹ˆë‹¤...';

        var payload = {
          name: form.querySelector('[name="name"]').value.trim(),
          phone: form.querySelector('[name="phone"]').value.trim(),
          combo_count: Number(form.querySelector('[name="combo_count"]').value || 20),
          consent_terms: Boolean(form.querySelector('[name="consent_terms"]').checked),
          consent_marketing: Boolean(form.querySelector('[name="consent_marketing"]').checked)
        };

        fetch('http://127.0.0.1:8000/api/apply-free-trial', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload)
        })
          .then(function (res) { return res.json().then(function (data) { return { ok: res.ok, data: data }; }); })
          .then(function (res) {
            if (!res.ok) throw new Error(res.data.detail || 'ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
            if (result) {
              result.textContent = 'ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. AI ì¶”ì²œ ë²ˆí˜¸ëŠ” ë¬¸ìë¡œ ë°œì†¡ë©ë‹ˆë‹¤.';
            }
          })
          .catch(function (err) {
            if (result) result.textContent = 'ì—ëŸ¬: ' + (err.message || 'ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
          })
          .finally(function () {
            if (submitBtn) submitBtn.disabled = false;
          });
      });
    }
  </script>
</body>
</html>
